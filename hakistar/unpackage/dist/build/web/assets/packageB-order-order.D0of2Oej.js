import{d as a,o as s,af as e,a as l,c as t,e as u,f as d,h as c,i as o,w as n,j as r,k as i,t as f,l as _,m,F as p,z as v,q as g,p as y,H as k,M as h,u as b,B as j}from"./index-HfrO64ci.js";import{g as q}from"./index.qscmTMIl.js";const w=j(a({__name:"order",setup(a){s((a=>{w(),z.value=JSON.parse(a.selPro),e("addressSelected",(a=>{console.log("选中的地址是",a),j.value=a}))}));const j=l({}),w=async()=>{try{const a=await q("/cart/address");j.value=a.filter((a=>a.is_default))[0]}catch(a){console.log(a)}},x=()=>{v({url:"/packageB/address/address?flag=1"})},z=l([]),B=t((()=>{let a=0;return z.value.forEach((s=>{a+=Number(s.price)})),a})),C=async()=>{console.log("支付操作")};return(a,s)=>{const e=g,l=y,t=u(d("up-icon"),k),v=b,q=h;return c(),o(l,{class:"order-create"},{default:n((()=>[r(l,{class:"address-section",onClick:x},{default:n((()=>{var a;return[(null==(a=j.value)?void 0:a.name)?(c(),o(l,{key:0,class:"address-content"},{default:n((()=>[r(l,{class:"user-info"},{default:n((()=>[r(e,{class:"name"},{default:n((()=>[i(f(j.value.name),1)])),_:1}),r(e,{class:"phone"},{default:n((()=>[i(f(j.value.phone),1)])),_:1})])),_:1}),r(l,{class:"address-detail"},{default:n((()=>[i(f(j.value.province)+f(j.value.city)+f(j.value.district)+f(j.value.detail),1)])),_:1})])),_:1})):(c(),o(l,{key:1,class:"no-address"},{default:n((()=>[r(e,null,{default:n((()=>[i("请选择收货地址")])),_:1})])),_:1})),r(t,{name:"arrow-right",size:"24",color:"#999"})]})),_:1}),r(l,{class:"goods-section"},{default:n((()=>[r(l,{class:"section-title"},{default:n((()=>[i("商品信息")])),_:1}),r(l,{class:"goods-list"},{default:n((()=>[(c(!0),_(p,null,m(z.value,(a=>(c(),o(l,{class:"goods-item",key:a.product_id},{default:n((()=>[r(v,{class:"goods-img",src:a.main_pic,mode:"aspectFill"},null,8,["src"]),r(l,{class:"goods-info"},{default:n((()=>[r(l,{class:"goods-name"},{default:n((()=>[i(f(a.name),1)])),_:2},1024),r(l,{class:"goods-spec"},{default:n((()=>[i(f(a.spec),1)])),_:2},1024),r(l,{class:"price-quantity"},{default:n((()=>[r(e,{class:"price"},{default:n((()=>[i("￥"+f(a.price),1)])),_:2},1024),r(e,{class:"quantity"},{default:n((()=>[i("×"+f(a.count),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),r(l,{class:"delivery-section"},{default:n((()=>[r(l,{class:"section-title"},{default:n((()=>[i("配送方式")])),_:1}),r(l,{class:"delivery-options"},{default:n((()=>[r(l,{class:"delivery-item"},{default:n((()=>[r(e,null,{default:n((()=>[i("快递配送")])),_:1}),r(e,{class:"delivery-free"},{default:n((()=>[i("免运费")])),_:1})])),_:1})])),_:1})])),_:1}),r(l,{class:"remark-section"},{default:n((()=>[r(l,{class:"section-title"},{default:n((()=>[i("订单备注")])),_:1}),r(q,{class:"remark-input",placeholder:"请输入备注信息(选填)"})])),_:1}),r(l,{class:"amount-section"},{default:n((()=>[r(l,{class:"amount-item"},{default:n((()=>[r(e,null,{default:n((()=>[i("商品金额")])),_:1}),r(e,null,{default:n((()=>[i("￥"+f(B.value),1)])),_:1})])),_:1}),r(l,{class:"amount-item"},{default:n((()=>[r(e,null,{default:n((()=>[i("运费")])),_:1}),r(e,null,{default:n((()=>[i("￥0.00")])),_:1})])),_:1}),r(l,{class:"amount-item total"},{default:n((()=>[r(e,null,{default:n((()=>[i("实付金额")])),_:1}),r(e,{class:"price"},{default:n((()=>[i("￥"+f(B.value),1)])),_:1})])),_:1})])),_:1}),r(l,{class:"settlement-bar"},{default:n((()=>[r(l,{class:"total-info"},{default:n((()=>[r(e,null,{default:n((()=>[i("合计：")])),_:1}),r(e,{class:"price"},{default:n((()=>[i("￥"+f(B.value),1)])),_:1})])),_:1}),r(l,{class:"submit-btn",onClick:C},{default:n((()=>[i("立即支付")])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-ba09780c"]]);export{w as default};
