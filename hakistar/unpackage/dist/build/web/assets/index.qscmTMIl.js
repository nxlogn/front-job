import{V as a,E as t,r as e}from"./index-HfrO64ci.js";const r=a=>{const e=t("token")||"";return e&&(a.header={...a.header,Authorization:`Bearer ${e}`}),a},s=t=>{const s=r(t),d=`https://www.liuliuzhua.cn${s.url}`;return new Promise(((t,r)=>{e({url:d,method:s.method||"GET",data:s.data,header:s.header,success(e){try{t((t=>{if(200===t.statusCode)return t.data.success||a({title:t.data.message,icon:"none"}),t.data.data;a({title:t.data.message,icon:"none"})})(e))}catch(s){r(s)}},fail(a){r("请求失败")}})}))},d=(a,t)=>s({url:a,method:"GET",data:t}),o=(a,t)=>s({url:a,method:"POST",data:t});export{d as g,o as p};
