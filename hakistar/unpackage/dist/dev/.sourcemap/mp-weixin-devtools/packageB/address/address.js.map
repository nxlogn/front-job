{"version":3,"file":"address.js","sources":["address.vue","cGFja2FnZUJcYWRkcmVzc1xhZGRyZXNzLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"address-page\">\r\n\t\t<!--地址列表-->\r\n\t\t<view class=\"address-list\" v-if=\"addressList.length\">\r\n\t\t\t<view class=\"address-item\" v-for=\"item in addressList\" :key=\"item.id\">\r\n\t\t\t\t<view class=\"address-info\">\r\n\t\t\t\t\t<view class=\"contact-info\">\r\n\t\t\t\t\t\t<text class=\"name\">{{item.name}}</text>\r\n\t\t\t\t\t\t<text class=\"phone\">{{item.phone}}</text>\r\n\t\t\t\t\t\t<text class=\"default-tag\" v-if=\"item.is_default\">默认</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"address-detail\">\r\n\t\t\t\t\t\t{{item.province}}{{item.city}}{{item.district}}{{item.detail}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"address-actions\">\r\n\t\t\t\t\t<view class=\"action-btn\">\r\n\t\t\t\t\t\t<up-icon name=\"edit-pen\" size=\"20\" color=\"#666\"></up-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"action-btn\" @click=\"deleteAddress(item.id)\">\r\n\t\t\t\t\t\t<up-icon name=\"trash\" size=\"20\" color=\"#666\"></up-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t</view>\r\n\t\t<!--空状态-->\r\n\t\t<view class=\"empty-state\" v-else>\r\n\t\t\t<up-icon name=\"map\" size=\"60\" color=\"#ccc\"></up-icon>\r\n\t\t\t<text class=\"empty-text\">您还未添加收货地址哦~</text>\r\n\t\t</view>\r\n\t\t<view class=\"add-btn\">\r\n\t\t\t<up-icon name=\"plus\" size=\"20\" color=\"#fff\"></up-icon>\r\n\t\t\t<text>新增收货地址</text>\r\n\t\t</view>\r\n\t\t<!--地址编辑弹窗-->\r\n\t\t<up-popup :show=\"false\" closeable class=\"wrap\">\r\n\t\t\t<view class=\"address-form\">\r\n\t\t\t\t<view class=\"form-title\">新增地址</view>\r\n\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t<text class=\"label\">收货人</text>\r\n\t\t\t\t\t<input placeholder=\"请输入收货人姓名\" class=\"input\"/>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t<text class=\"label\">手机号</text>\r\n\t\t\t\t\t<input placeholder=\"请输入手机号\" type=\"number\" maxlength=\"11\" class=\"input\"/>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t<text class=\"label\">所在地区</text>\r\n\t\t\t\t\t<view class=\"region-display\">\r\n\t\t\t\t\t\t<text >请选择所在地区</text>\r\n\t\t\t\t\t\t<up-icon name=\"arrow-right\" size=\"16\" color=\"#999\" class=\"right\"></up-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t<text class=\"label\">详细地址</text>\r\n\t\t\t\t\t<textarea placeholder=\"请输入详细地址\" class=\"textarea\"/>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"form-item\">\r\n\t\t\t\t\t<text class=\"def\">设为默认地址</text>\r\n\t\t\t\t\t<switch color=\"#ffce2c\"></switch>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"form-actions\">\r\n\t\t\t\t\t<view class=\"cancel-btn\">取消</view>\r\n\t\t\t\t\t<view class=\"save-btn\">保存</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</up-popup>\r\n\t\t<!--省市区联动-->\r\n\t\t <up-picker :show=\"show\" ref=\"uPickerRef\" :columns=\"columns\" @confirm=\"confirm\" @change=\"changeHandler\"></up-picker>\r\n\t</view>\n</template>\n\n<script lang=\"ts\" setup>\r\nimport { ref,reactive } from \"vue\"\nimport {get,post} from \"../../utils/http\"\r\nimport {onLoad} from \"@dcloudio/uni-app\"\r\ninterface AddressItem{\r\n\tcity:string;\r\n\tdetail:string;\r\n\tdistrict:string;\r\n\tid:number;\r\n\tis_default:1|0;\r\n\tname:string;\r\n\tphone:string;\r\n\tprovince:string;\r\n\tuser_id:number\r\n}\r\nonLoad(()=>{\r\n\tgetAddressList()\r\n})\r\nconst addressList=ref<AddressItem[]>([])\r\nconst getAddressList=async()=>{\r\n\ttry {\r\n\t\tconst result:any=await get(\"/cart/address\");\r\n\t\taddressList.value=result\r\n\t} catch (error) {\r\n\t\tuni.__f__('log','at packageB/address/address.vue:98',error)\r\n\t}\r\n}\r\nconst deleteAddress=(id:number)=>{\r\n\tuni.showModal({\r\n\t\ttitle:\"提示\",\r\n\t\tcontent:\"确认要删除这个地址吗？\",\r\n\t\tsuccess:async(res)=> {\r\n\t\t\tif(res.confirm){\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait post(\"/cart/deleteAddress\",{id});\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:\"删除成功\",\r\n\t\t\t\t\t\ticon:\"success\"\r\n\t\t\t\t\t})\r\n\t\t\t\t\tgetAddressList()\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tuni.__f__('log','at packageB/address/address.vue:115',error)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n}\n//省市区级联选择\r\nconst show = ref(true);\nconst columns = reactive([\n  ['中国', '美国'],\n  ['深圳', '厦门', '上海', '拉萨']\n]);\nconst columnData = reactive([\n  ['深圳', '厦门', '上海', '拉萨'],\n  ['得州', '华盛顿', '纽约', '阿拉斯加']\n]);\n\nconst uPickerRef = ref(null)\nconst changeHandler = (e) => {\n  const {\n    columnIndex,\n    value,\n    values,\n    index,\n  } = e;\n\n  if (columnIndex === 0) {\n    uPickerRef.value.setColumnValues(1, columnData[index]);\n  }\n};\n\nconst confirm = (e) => {\n  uni.__f__('log','at packageB/address/address.vue:147','confirm', e);\n  show.value = false;\n};\r\n</script>\n\n<style lang=\"scss\" scoped>\r\n\t.address-page{\r\n\t\tmin-height: 100vh;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tpadding-bottom: 120rpx;\r\n\t\t.address-list{\r\n\t\t\t.address-item{\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\tpadding: 30rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\t.address-info{\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t.contact-info{\r\n\t\t\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\t\t\t.name{\r\n\t\t\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t.phone{\r\n\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t.default-tag{\r\n\t\t\t\t\t\t\tbackground-color: #ffce2c;\r\n\t\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\tpadding: 4rpx 12rpx;\r\n\t\t\t\t\t\t\tborder-radius: 6rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.address-detail{\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\t\tline-height: 1.4;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.address-actions{\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t.action-btn{\r\n\t\t\t\t\t\twidth: 60rpx;\r\n\t\t\t\t\t\theight: 60rpx;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t\tbackground-color: #f5f5f5;\r\n\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t\tmargin-right: 16rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.empty-state{\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tpadding: 100rpx 0;\r\n\t\t\t.empty-text{\r\n\t\t\t\tmargin-top: 20rpx;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.add-btn{\r\n\t\t\tposition: fixed;\r\n\t\t\tbottom: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tright: 0;\r\n\t\t\theight: 120rpx;\r\n\t\t\tbackground-color: #ffce2c;\r\n\t\t\tcolor: #fff;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\ttext{margin-left: 16rpx;}\r\n\t\t}\r\n\r\n\t}\r\n\t.address-form{\r\n\r\n\t\t.form-title{\r\n\t\t\tfont-size: 36rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tcolor: #333;\r\n\t\t\ttext-align: center;\r\n\t\t\tmargin-bottom: 40rpx;\r\n\t\t\tmargin-top: 20rpx;\r\n\t\t}\r\n\t\t.form-item{\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 30rpx 0;\r\n\t\t\tborder-bottom: 1rpx solid #eee;\r\n\t\t\t.label{\r\n\t\t\t\twidth: 160rpx;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t}\r\n\t\t\t.input{\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\t\t\t.def{margin: 0 20rpx;}\r\n\t\t\t.textarea{\r\n\t\t\t\tflex: 1;\r\n\t\t\t\theight: 120rpx;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\t\t\t.region-display{\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t\ttext{\r\n\t\t\t\t\tcolor: #666\r\n\t\t\t\t}\r\n\t\t\t\t.right{\r\n\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.form-actions{\r\n\t\t\tdisplay: flex;\r\n\t\t\tmargin-top:40rpx;\r\n\t\t\t.cancel-btn,.save-btn{\r\n\t\t\t\tflex: 1;\r\n\t\t\t\theight: 80rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tborder-radius: 40rpx;\r\n\t\t\t\tmargin-right: 16rpx;\r\n\t\t\t}\r\n\t\t\t.cancel-btn{\r\n\t\t\t\tbackground-color: #f5f5f5;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t}\r\n\t\t\t.save-btn{\r\n\t\t\t\tbackground-color: #ffce2c;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</style>","import MiniProgramPage from 'D:/溜溜爪宠物小程序/pet-app/liuliuzhua/packageB/address/address.vue'\nwx.createPage(MiniProgramPage)"],"names":["onLoad","ref","get","uni","post","reactive"],"mappings":";;;;;;;;;;;;;;;;;;;AAwFAA,kBAAAA,OAAO,MAAI;AACK;IAAA,CACf;AACK,UAAA,cAAYC,kBAAmB,CAAA,CAAE;AACvC,UAAM,iBAAe,YAAS;AACzB,UAAA;AACG,cAAA,SAAW,MAAMC,qBAAI,eAAe;AAC1C,oBAAY,QAAM;AAAA,eACV,OAAO;AACXC,sBAAAA,MAAA,MAAM,OAAM,sCAAqC,KAAK;AAAA,MAC3D;AAAA,IAAA;AAEK,UAAA,gBAAc,CAAC,OAAY;AAChCA,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAM;AAAA,QACN,SAAQ;AAAA,QACR,SAAQ,OAAM,QAAO;AACpB,cAAG,IAAI,SAAQ;AACV,gBAAA;AACH,oBAAMC,sBAAK,uBAAsB,EAAC,GAAG,CAAA;AACrCD,4BAAAA,MAAI,UAAU;AAAA,gBACb,OAAM;AAAA,gBACN,MAAK;AAAA,cAAA,CACL;AACc;qBACP,OAAO;AACXA,4BAAAA,MAAA,MAAM,OAAM,uCAAsC,KAAK;AAAA,YAC5D;AAAA,UACD;AAAA,QACD;AAAA,MAAA,CACA;AAAA,IAAA;AAGI,UAAA,OAAOF,kBAAI,IAAI;AACrB,UAAM,UAAUI,cAAAA,SAAS;AAAA,MACvB,CAAC,MAAM,IAAI;AAAA,MACX,CAAC,MAAM,MAAM,MAAM,IAAI;AAAA,IAAA,CACxB;AACD,UAAM,aAAaA,cAAAA,SAAS;AAAA,MAC1B,CAAC,MAAM,MAAM,MAAM,IAAI;AAAA,MACvB,CAAC,MAAM,OAAO,MAAM,MAAM;AAAA,IAAA,CAC3B;AAEK,UAAA,aAAaJ,kBAAI,IAAI;AACrB,UAAA,gBAAgB,CAAC,MAAM;AACrB,YAAA;AAAA,QACJ;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACE,IAAA;AAEJ,UAAI,gBAAgB,GAAG;AACrB,mBAAW,MAAM,gBAAgB,GAAG,WAAW,KAAK,CAAC;AAAA,MACvD;AAAA,IAAA;AAGI,UAAA,UAAU,CAAC,MAAM;AACrBE,oBAAA,MAAI,MAAM,OAAM,uCAAsC,WAAW,CAAC;AAClE,WAAK,QAAQ;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClJf,GAAG,WAAW,eAAe;"}