{"version":3,"file":"index.js","sources":["utils/http/index.ts"],"sourcesContent":["import {RequestConfig} from \"./types\"\r\n\r\nimport { requestInterceptor,transformResponse } from \"./interceptors\"\r\n\r\nconst request=(config:RequestConfig)=>{\r\n\tconst processedConfig= requestInterceptor(config)\r\n\t//const url=`http://localhost:3000${processedConfig.url}`\r\n\tconst url=`https://www.liuliuzhua.cn${processedConfig.url}`\r\n\treturn new Promise((resolve,reject)=>{\r\n\t\tuni.request({\r\n\t\t\turl,\r\n\t\t\tmethod:processedConfig.method || \"GET\",\r\n\t\t\tdata:processedConfig.data,\r\n\t\t\theader:processedConfig.header,\r\n\t\t\tsuccess(res) {\r\n\t\t\t\ttry{\r\n\t\t\t\t\tresolve(transformResponse(res))\r\n\t\t\t\t}catch(error){\r\n\t\t\t\t\treject(error)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfail(err) {\r\n\t\t\t\treject(\"请求失败\")\r\n\t\t\t}\r\n\t\t})\r\n\t})\r\n}\r\n\r\nexport const get=(url:string,data?:any)=>request({url,method:\"GET\",data})\r\n\r\nexport const post=(url:string,data?:any)=>request({url,method:\"POST\",data})\r\n\r\n"],"names":["requestInterceptor","uni","transformResponse"],"mappings":";;;AAIA,MAAM,UAAQ,CAAC,WAAuB;AAC/B,QAAA,kBAAiBA,2CAAmB,MAAM;AAE1C,QAAA,MAAI,4BAA4B,gBAAgB,GAAG;AACzD,SAAO,IAAI,QAAQ,CAAC,SAAQ,WAAS;AACpCC,kBAAAA,MAAI,QAAQ;AAAA,MACX;AAAA,MACA,QAAO,gBAAgB,UAAU;AAAA,MACjC,MAAK,gBAAgB;AAAA,MACrB,QAAO,gBAAgB;AAAA,MACvB,QAAQ,KAAK;AACT,YAAA;AACM,kBAAAC,wBAAAA,kBAAkB,GAAG,CAAC;AAAA,iBACxB,OAAM;AACZ,iBAAO,KAAK;AAAA,QACb;AAAA,MACD;AAAA,MACA,KAAK,KAAK;AACT,eAAO,MAAM;AAAA,MACd;AAAA,IAAA,CACA;AAAA,EAAA,CACD;AACF;AAEa,MAAA,MAAI,CAAC,KAAW,SAAY,QAAQ,EAAC,KAAI,QAAO,OAAM,MAAK;AAE3D,MAAA,OAAK,CAAC,KAAW,SAAY,QAAQ,EAAC,KAAI,QAAO,QAAO,KAAK,CAAA;;;"}