{"version":3,"file":"service.js","sources":["pages/service/service.vue","../../../softawres/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc2VydmljZS9zZXJ2aWNlLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"page\">\r\n\t\t<up-notice-bar text=\"您有一份宠物大礼包待领取，请及时领取\" mode=\"closable\"></up-notice-bar>\r\n\t\t<view class=\"service-list\">\r\n\t\t\t<view class=\"service-item\" v-for=\"item in serviceList\" :key=\"item.name\">\r\n\t\t\t\t<view class=\"icon\" :style=\"{background:item.bgColor}\">\r\n\t\t\t\t\t<image :src=\"item.icon\" mode=\"aspectFill\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"name\">{{item.name}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"pet-images\">\r\n\t\t\t<image src=\"/static/modules/service/dog.jpg\" mode=\"aspectFill\"></image>\r\n\t\t\t<image src=\"/static/modules/service/cat.jpg\" mode=\"aspectFill\"></image>\r\n\t\t</view>\r\n\t\t<view class=\"fish-bone\">\r\n\t\t\t<image src=\"/static/modules/service/鱼骨头.png\" mode=\"aspectFit\"></image>\r\n\t\t\t<text>宠物领养</text>\r\n\t\t</view>\r\n\t\t<scroll-view scroll-x class=\"scroll-view\">\r\n\t\t\t<view class=\"scroll-view-item\" v-for=\"item in adoptList\" :key=\"item.id\">\r\n\t\t\t\t<image :src=\"item.pic\" mode=\"aspectFill\"></image>\r\n\t\t\t\t<text>{{item.location}}</text>\r\n\t\t\t\t<text>{{item.name}}</text>\r\n\t\t\t\t<text>待领养：{{item.count}}只</text>\r\n\t\t\t\t<up-rate v-model=\"item.rate\" readonly inactive-color=\"#b2b2b2\" active-color=\"#ffce2c\" activeIcon=\"heart-fill\" inactiveIcon=\"heart\"></up-rate>\r\n\t\t\t</view>\t\r\n\t\t</scroll-view>\r\n\t\t<view class=\"fish-bone\">\r\n\t\t\t<image src=\"/static/modules/service/鱼骨头.png\" mode=\"aspectFit\"></image>\r\n\t\t\t<text>附近商家</text>\r\n\t\t</view>\r\n\t\t<view class=\"service-card\" v-for=\"item in merchanList\" :key=\"item.merchant_id\">\r\n\t\t\t<image class=\"service-img\" mode=\"aspectFill\" :src=\"item.pic\"></image>\r\n\t\t\t<view class=\"service-info\">\r\n\t\t\t\t<text class=\"service-name\">{{item.merchant_name}}</text>\r\n\t\t\t\t<view class=\"rate-area\">\r\n\t\t\t\t\t<up-rate v-model=\"item.rating\" readonly  inactive-color=\"#b2b2b2\" active-color=\"#ffce2c\"></up-rate>\r\n\t\t\t\t\t<text class=\"rate-text\">{{item.rating}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"service-detail\">{{item.address}}</text>\r\n\t\t\t\t<view class=\"tag-area\">\r\n\t\t\t\t\t<view class=\"tag-item\" v-for=\"tag in item.service.split(',')\" :key=\"tag\">{{tag}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"price-area\">\r\n\t\t\t\t\t<view>惠</view>【新客福利】<text>￥19.9</text>代金券可领\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<up-divider text=\"我是有底线的\"></up-divider>\r\n\t</view>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\n\timport { ref } from 'vue';\r\n\timport { get } from '../../utils/http';\r\n\timport {onLoad,onReachBottom} from \"@dcloudio/uni-app\"\r\n\t\r\n\tinterface AdoptItem{\r\n\t\tid:number;\r\n\t\tcount:number;\r\n\t\tlocation:string;\r\n\t\tname:string;\r\n\t\tpic:string;\r\n\t\trate:string\r\n\t}\r\n\tinterface MerchantItem{\r\n\t\tmerchant_id:number;\r\n\t\taddress:string;\r\n\t\tbusiness_hours:string;\r\n\t\tmerchant_name:string;\r\n\t\tphone:string;\r\n\t\tpic:string;\r\n\t\trating:string;\r\n\t\tservice:string\r\n\t}\n\tconst serviceList = [\r\n\t\t{\r\n\t\t\tname: \"宠物修剪\",\r\n\t\t\ticon: \"/static/modules/service/pet1.png\",\r\n\t\t\tbgColor: \"#f0f9ff\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: '宠物洗澡',\r\n\t\t\ticon: '/static/modules/service/pet2.png',\r\n\t\t\tbgColor: '#f0fdf4'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: '宠物医疗',\r\n\t\t\ticon: '/static/modules/service/pet3.png',\r\n\t\t\tbgColor: '#fef2f2'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: '宠物哺乳',\r\n\t\t\ticon: '/static/modules/service/pet4.png',\r\n\t\t\tbgColor: '#fdf4ff'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: '宠物狗窝',\r\n\t\t\ticon: '/static/modules/service/pet5.png',\r\n\t\t\tbgColor: '#fff7ed'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: '宠物玩具',\r\n\t\t\ticon: '/static/modules/service/pet6.png',\r\n\t\t\tbgColor: '#f0fdfa'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: '宠物罐头',\r\n\t\t\ticon: '/static/modules/service/pet7.png',\r\n\t\t\tbgColor: '#faf5ff'\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: '宠物背包',\r\n\t\t\ticon: '/static/modules/service/pet8.png',\r\n\t\t\tbgColor: '#fff1f2'\r\n\t\t}\r\n\t]\r\n\t\r\n\tconst adoptList=ref<AdoptItem[]>([])\r\n\tconst getAdoptList=async ()=>{\r\n\t\ttry {\r\n\t\t\tconst res:any=await get(\"/adopt/list\");\r\n\t\t\tadoptList.value=res\r\n\t\t} catch (error) {\r\n\t\t\tuni.__f__('log','at pages/service/service.vue:126',\"获取失败\")\r\n\t\t\t//TODO handle the exception\r\n\t\t}\r\n\t}\r\n\t\r\n\t//商家列表\r\n\tconst merchanList=ref<MerchantItem[]>([])\r\n\tconst currentPage=ref<number>(1)\r\n\tconst totalPages=ref<number>(0)\r\n\tconst getMerchanList=async (page:number)=>{\r\n\t\ttry {\r\n\t\t\tconst data:any=await get(\"/home/merchants\",{page});\r\n\t\t\tif(page===1){\r\n\t\t\t\tmerchanList.value=data.list\r\n\t\t\t}else{\r\n\t\t\t\tmerchanList.value=[...merchanList.value,...data.list]\r\n\t\t\t}\r\n\t\t\ttotalPages.value=data.pagination.totalPages\r\n\t\t\tcurrentPage.value=data.pagination.current\r\n\t\t} catch (error) {\r\n\t\t\tuni.__f__('error','at pages/service/service.vue:146',\"获取失败\")\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tonReachBottom(()=>{\r\n\t\tif(currentPage.value<totalPages.value){\r\n\t\t\tgetMerchanList(currentPage.value+1)\r\n\t\t}\r\n\t})\r\n\tonLoad(()=>{\r\n\t\tgetAdoptList()\r\n\t\tgetMerchanList(1)\r\n\t})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.page{\r\n\tmin-height: 100vh;\r\n\tbackground-color: #f5f5f5;\r\n\tpadding: 0 30rpx;\r\n\t.service-list{\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius:20rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tmargin: 20rpx 0;\r\n\t\t.service-item{\r\n\t\t\twidth: 25%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\t\t\tmargin-bottom: 40rpx;\r\n\t\t\t.icon{\r\n\t\t\t\twidth: 100rpx;\r\n\t\t\t\theight: 100rpx;\r\n\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\tmargin-bottom: 16rpx;\r\n\t\t\t\timage{\r\n\t\t\t\t\twidth: 50rpx;\r\n\t\t\t\t\theight: 50rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.name{\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.pet-images{\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin-top: 20rpx;\r\n\t\timage{\r\n\t\t\twidth: 360rpx;\r\n\t\t\theight: 140rpx;\r\n\t\t\tborder: 4rpx solid #fff;\r\n\t\t\t&:first-child{\r\n\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.fish-bone{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-top: 20rpx;\r\n\t\timage{\r\n\t\t\twidth: 40rpx;\r\n\t\t\theight: 40rpx;\r\n\t\t\ttransform: rotate(90deg);\r\n\t\t\tmargin-right: 10rpx;\r\n\t\t}\r\n\t\ttext{\r\n\t\t\tfont-size: 36rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tcolor: #333;\r\n\t\t}\r\n\t}\r\n\t.service-card{\r\n\t\tdisplay: flex;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 16rpx;\r\n\t\tmargin: 10rpx 0 10rpx 0;\r\n\t\tpadding: 20rpx;\r\n\t\t.service-img{\r\n\t\t\twidth: 160rpx;\r\n\t\t\theight: 160rpx;\r\n\t\t\tbackground-color: #ddd;\r\n\t\t\tborder-radius: 8rpx;\r\n\t\t\tmargin-right: 20rpx;\r\n\t\t\tmargin-top: 8rpx;\r\n\t\t}\r\n\t\t.service-info{\r\n\t\t\tflex: 1;\r\n\t\t\t.service-name{\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tcolor: #000;\r\n\t\t\t\tline-height:44rpx;\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t}\r\n\t\t\t.rate-area{\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t\t.rate-text{\r\n\t\t\t\t\tcolor: $uni-color-primary;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tmargin-left: 10rpx;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t.service-detail{\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t\tline-height: 34rpx;\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t}\r\n\t\t\t.tag-area{\r\n\t\t\t\tdisplay:flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmargin: 12rpx 0;\r\n\t\t\t\t.tag-item{\r\n\t\t\t\t\tfont-size: 18rpx;\r\n\t\t\t\t\tpadding: 4rpx 14rpx;\r\n\t\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\t\tmargin-right: 16rpx;\r\n\t\t\t\t\tborder:1px solid;\r\n\t\t\t\t\t&:nth-child(1){\r\n\t\t\t\t\t\tcolor: #ff6b81;\r\n\t\t\t\t\t\tborder-color: #ff6b81;\r\n\t\t\t\t\t\tbackground-color: rgba(255, 107, 129, 0.1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t&:nth-child(2){\r\n\t\t\t\t\t\tcolor: #ffce2c;\r\n\t\t\t\t\t\tborder-color: #ffce2c;\r\n\t\t\t\t\t\tbackground-color: rgba(255, 206, 44, 0.1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t&:nth-child(3){\r\n\t\t\t\t\t\tcolor: #19be6b;\r\n\t\t\t\t\t\tborder-color: #19be6b;\r\n\t\t\t\t\t\tbackground-color: rgba(25, 190, 107, 0.1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t&:nth-child(4){\r\n\t\t\t\t\t\tcolor: #ff9900;\r\n\t\t\t\t\t\tborder-color: #ff9900;\r\n\t\t\t\t\t\tbackground-color: rgba(255, 153, 0, 0.1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t&:last-child{\r\n\t\t\t\t\t\tmargin-right: 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.price-area{\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmargin-top: 16rpx;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor:#666;\r\n\t\t\t\tview{\r\n\t\t\t\t\tbackground-color: $uni-color-primary;\r\n\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\tpadding: 2rpx 8rpx;\r\n\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t\tmargin-right: 8rpx;\r\n\t\t\t\t}\r\n\t\t\t\ttext{\r\n\t\t\t\t\tcolor: #ff6b81;\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tmargin: 0 4rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t.scroll-view{\r\n\t\twhite-space: nowrap;\r\n\t\t.scroll-view-item{\r\n\t\t\tdisplay: inline-block;\r\n\t\t\twidth: 240rpx;\r\n\t\t\theight: 300rpx;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tborder-radius: 20rpx;\r\n\t\t\tmargin-right: 20rpx;\r\n\t\t\tposition: relative;\r\n\t\t\tpadding: 20rpx;\r\n\t\t\tmargin-top: 80rpx;\r\n\t\t\timage{\r\n\t\t\t\twidth: 120rpx;\r\n\t\t\t\theight: 120rpx;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tleft:50%;\r\n\t\t\t\ttop:-50rpx;\r\n\t\t\t\ttransform: translateX(-50%);\r\n\t\t\t\tborder: 4rpx solid #fff;\r\n\t\t\t\tbox-shadow: 0 0 10rpx rgba(0, 0, 0, 0.1);\r\n\t\t\t}\r\n\t\t\ttext{\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\t&:nth-child(2){\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\tmargin-top: 80rpx;\r\n\t\t\t\t}\r\n\t\t\t\t&:nth-child(3){\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\tmargin-top: 12rpx;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t}\r\n\t\t\t\t&:nth-child(4){\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tcolor: #ff6b6b;\r\n\t\t\t\t\tmargin: 20rpx 0;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.up-rate{\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</style>","import MiniProgramPage from 'D:/project/hakistar/hakistar/pages/service/service.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","get","uni","onReachBottom","onLoad"],"mappings":";;;;;;;;;;;;;;;;;;;AA4EC,UAAM,cAAc;AAAA,MACnB;AAAA,QACC,MAAM;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,MACV;AAAA,MACA;AAAA,QACC,MAAM;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,MACV;AAAA,MACA;AAAA,QACC,MAAM;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,MACV;AAAA,MACA;AAAA,QACC,MAAM;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,MACV;AAAA,MACA;AAAA,QACC,MAAM;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,MACV;AAAA,MACA;AAAA,QACC,MAAM;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,MACV;AAAA,MACA;AAAA,QACC,MAAM;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,MACV;AAAA,MACA;AAAA,QACC,MAAM;AAAA,QACN,MAAM;AAAA,QACN,SAAS;AAAA,MACV;AAAA,IAAA;AAGK,UAAA,YAAUA,kBAAiB,CAAA,CAAE;AACnC,UAAM,eAAa,YAAU;AACxB,UAAA;AACG,cAAA,MAAQ,MAAMC,qBAAI,aAAa;AACrC,kBAAU,QAAM;AAAA,eACR,OAAO;AACXC,sBAAAA,MAAA,MAAM,OAAM,oCAAmC,MAAM;AAAA,MAE1D;AAAA,IAAA;AAIK,UAAA,cAAYF,kBAAoB,CAAA,CAAE;AAClC,UAAA,cAAYA,kBAAY,CAAC;AACzB,UAAA,aAAWA,kBAAY,CAAC;AACxB,UAAA,iBAAe,OAAO,SAAc;AACrC,UAAA;AACH,cAAM,OAAS,MAAMC,iBAAA,IAAI,mBAAkB,EAAC,KAAK,CAAA;AACjD,YAAG,SAAO,GAAE;AACX,sBAAY,QAAM,KAAK;AAAA,QAAA,OACnB;AACJ,sBAAY,QAAM,CAAC,GAAG,YAAY,OAAM,GAAG,KAAK,IAAI;AAAA,QACrD;AACW,mBAAA,QAAM,KAAK,WAAW;AACrB,oBAAA,QAAM,KAAK,WAAW;AAAA,eAC1B,OAAO;AACXC,sBAAAA,MAAA,MAAM,SAAQ,oCAAmC,MAAM;AAAA,MAC5D;AAAA,IAAA;AAGDC,kBAAAA,cAAc,MAAI;AACd,UAAA,YAAY,QAAM,WAAW,OAAM;AACtB,uBAAA,YAAY,QAAM,CAAC;AAAA,MACnC;AAAA,IAAA,CACA;AACDC,kBAAAA,OAAO,MAAI;AACG;AACb,qBAAe,CAAC;AAAA,IAAA,CAChB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5JF,GAAG,WAAW,eAAe;"}