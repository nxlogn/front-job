{"version":3,"file":"merchant-detail.js","sources":["packageB/merchant-detail/merchant-detail.vue","../../../softawres/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFja2FnZUJcbWVyY2hhbnQtZGV0YWlsXG1lcmNoYW50LWRldGFpbC52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"merchant-detail\">\r\n\t\t<!--商家基础信息-->\r\n\t\t<view class=\"merchant-info\">\r\n\t\t\t<image class=\"merchant-bg\" src=\"/static/modules/service/cat.jpg\" mode=\"aspectFill\"></image>\r\n\t\t\t<view class=\"merchant-card\">\r\n\t\t\t\t<view class=\"merchant-header\">\r\n\t\t\t\t\t<image class=\"merchant-avatar\" :src=\"merchant_info.pic\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<view class=\"merchant-basic\">\r\n\t\t\t\t\t\t<text class=\"merchant-name\">{{merchant_info.merchant_name}}</text>\r\n\t\t\t\t\t\t<view class=\"rating-info\">\r\n\t\t\t\t\t\t\t<up-rate readonly allow-half active-color=\"#ffce2c\" inactive-color=\"#b2b2b2\" v-model=\"merchant_info.rating\"></up-rate>\r\n\t\t\t\t\t\t\t<text class=\"rating-text\">{{merchant_info.rating}}</text>\r\n\t\t\t\t\t\t\t<text class=\"review-count\" v-if=\"merchant_info.rating>4.5\">（ 精选商家 ）</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"distance-info\">\r\n\t\t\t\t\t\t\t<text class=\"distance-text\">\r\n\t\t\t\t\t\t\t\t{{merchant_info.address}}\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"merchant-tags\">\r\n\t\t\t\t\t<view class=\"tag-item\" v-for=\"(item,index) in merchant_info.tag?.split(',')\" :key=\"index\">{{item}}</view>\r\n\t\t\t\t\t\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!--商家服务-->\r\n\t\t<view class=\"service-section\">\r\n\t\t\t<view class=\"section-title\">\r\n\t\t\t\t<text class=\"title-text\">服务项目</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"service-list\">\r\n\t\t\t\t<view class=\"service-item\" v-for=\"item in serviceList\" :key=\"item.id\">\r\n\t\t\t\t\t<image class=\"service-icon\" src=\"/static/modules/service/pet1.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<view class=\"service-info\">\r\n\t\t\t\t\t\t<text class=\"service-name\">{{item.service_name}}</text>\r\n\t\t\t\t\t\t<view class=\"service-price\">\r\n\t\t\t\t\t\t\t<text class=\"price-symbol\">￥</text>\r\n\t\t\t\t\t\t\t<text class=\"price-value\">{{item.service_price}}</text>\r\n\t\t\t\t\t\t\t<text class=\"price-unit\">/{{item.service_unit}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"service-action\">\r\n\t\t\t\t\t\t<up-button type=\"primary\" size=\"mini\" style=\"background-color: #ffce2c;border-color: #ffce2c;\" @click=\"bookNow(item)\">立即预约</up-button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!--商家信息-->\r\n\t\t<view class=\"info-section\">\r\n\t\t\t<view class=\"section-title\">\r\n\t\t\t\t<text class=\"title-text\">商家信息</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"info-list\">\r\n\t\t\t\t<view class=\"info-item\">\r\n\t\t\t\t\t<up-icon name=\"map\" size=\"32rpx\" color=\"#666\"></up-icon>\r\n\t\t\t\t\t<text class=\"info-label\">地址：</text>\r\n\t\t\t\t\t<text class=\"info-value\">{{merchant_info.address}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info-item\">\r\n\t\t\t\t\t<up-icon name=\"clock\" size=\"32rpx\" color=\"#666\"></up-icon>\r\n\t\t\t\t\t<text class=\"info-label\">营业时间：</text>\r\n\t\t\t\t\t<text class=\"info-value\">{{merchant_info.business_hours}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info-item\">\r\n\t\t\t\t\t<up-icon name=\"phone\" size=\"32rpx\" color=\"#666\"></up-icon>\r\n\t\t\t\t\t<text class=\"info-label\">联系电话：</text>\r\n\t\t\t\t\t<text class=\"info-value\" style=\"color: #ffce2c;\">{{merchant_info.phone}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"bottom-bar\">\r\n\t\t\t<view class=\"primary-actions\">\r\n\t\t\t\t<up-button type=\"primary\" style=\"background-color: #ffce2c;border-color: #ffce2c;width: 160rpx;float:right\" @click=\"call\">拨打电话</up-button>\r\n\t\t\t\t<up-button type=\"info\" style=\"background-color: #fff;border-color: #ffce2c;color: #ffce2c;width: 160rpx;float:right;margin-right: 20rpx;\" @click=\"viewLocation\">查看位置</up-button>\r\n\t\t\t\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\n\timport {onLoad} from \"@dcloudio/uni-app\"\r\n\timport { ref } from \"vue\";\r\n\timport { get } from \"../../utils/http\";\r\n\tinterface MerchantItem{\r\n\t\tmerchant_id:number;\r\n\t\taddress:string;\r\n\t\tbusiness_hours:string;\r\n\t\tmerchant_name:string;\r\n\t\tphone:string;\r\n\t\tpic:string;\r\n\t\trating:string;\r\n\t\tservice:string;\r\n\t\ttag:string\r\n\t}\r\n\tinterface ServiceItem{\r\n\t\tid:number;\r\n\t\tmerchant_id:number;\r\n\t\tservice_name:string;\r\n\t\tservice_price:string;\r\n\t\tservice_unit:string;\r\n\t}\n\tonLoad((options)=>{\r\n\t\tuni.__f__('log','at packageB/merchant-detail/merchant-detail.vue:107',\"opt\",JSON.parse(options.info))\r\n\t\tmerchant_info.value=JSON.parse(options.info)\r\n\t\tgetService();\r\n\t})\r\n\tconst merchant_info=ref<MerchantItem>({} as MerchantItem)\r\n\t//服务价格列表\r\n\tconst serviceList=ref<ServiceItem[]>([])\r\n\tconst getService=async()=>{\r\n\t\tconst data:any=await get(\"/home/service\",{merchant_id:merchant_info.value.merchant_id})\r\n\t\tserviceList.value=data\r\n\t}\r\n\tconst call=()=>{\r\n\t\tuni.makePhoneCall({\r\n\t\t\tphoneNumber:merchant_info.value.phone\r\n\t\t});\r\n\t}\r\n\tconst viewLocation=()=>{\r\n\t\tuni.openLocation({\r\n\t\t\tlatitude:39.9042,//维度\r\n\t\t\tlongitude:116.4074,//经度\r\n\t\t\tname:merchant_info.value.merchant_name,\r\n\t\t\taddress:merchant_info.value.address,\r\n\t\t\tsuccess(res) {\r\n\t\t\t\tuni.__f__('log','at packageB/merchant-detail/merchant-detail.vue:130',\"打开地图成功\",res)\r\n\t\t\t},\r\n\t\t\tfail(err) {\r\n\t\t\t\tuni.__f__('log','at packageB/merchant-detail/merchant-detail.vue:133',\"打开地图失败\",err)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t\r\n\tconst bookNow=(item:ServiceItem)=>{\r\n\t\tlet selPro=[{\r\n\t\t\tcount:1,\r\n\t\t\tmain_pic:\"http://localhost:3000/img/part/宠物寄养.png\",\r\n\t\t\tname:item.service_name,\r\n\t\t\tprice:item.service_price,\r\n\t\t\tproduct_id:item.merchant_id,\r\n\t\t\tspec:\"\"\r\n\t\t}]\r\n\t\tuni.navigateTo({\r\n\t\t\turl:\"/packageB/order/order?selPro=\"+JSON.stringify(selPro)\r\n\t\t})\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.merchant-detail{\r\n\t\tmin-height: 100vh;\r\n\t\tbackground-color: #f5f5f5;\r\n\t\tpadding-bottom: 120rpx;\r\n\t\t.merchant-info{\r\n\t\t\tposition: relative;\r\n\t\t\t.merchant-bg{\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 300rpx;\r\n\t\t\t}\r\n\t\t\t.merchant-card{\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: -60rpx;\r\n\t\t\t\tleft: 30rpx;\r\n\t\t\t\tright: 30rpx;\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t\tborder-radius: 16rpx;\r\n\t\t\t\tpadding: 30rpx;\r\n\t\t\t\tbox-shadow: 0 4rpx 20rpx rgba(0, 0, 0,0.1);\r\n\t\t\t\t.merchant-header{\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\t\t.merchant-avatar{\r\n\t\t\t\t\t\twidth: 120rpx;\r\n\t\t\t\t\t\theight: 120rpx;\r\n\t\t\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.merchant-basic{\r\n\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\t.merchant-name{\r\n\t\t\t\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\t\tcolor: #000;\r\n\t\t\t\t\t\t\tline-height: 50rpx;\r\n\t\t\t\t\t\t\tmargin-bottom: 12rpx;\r\n\t\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t.rating-info{\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t\t\t\t\t.rating-text{\r\n\t\t\t\t\t\t\t\tcolor: #ffce2c;\r\n\t\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\t\tmargin-left: 10rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t.review-count{\r\n\t\t\t\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\t\tmargin-left: 10rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t.distance-info{\r\n\t\t\t\t\t\t\t.distance-text{\r\n\t\t\t\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\t\tmargin-left: 8rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.merchant-tags{\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\t\t.tag-item{\r\n\t\t\t\t\t\tpadding: 6rpx 16rpx;\r\n\t\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\t\t\tmargin-right: 12rpx;\r\n\t\t\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t\t\t\tbackground-color: rgba(255, 206, 44, 0.1);\r\n\t\t\t\t\t\tcolor: #ffce2c;\r\n\t\t\t\t\t\tborder: 1px solid rgba(255, 206, 44, 0.3);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.service-section{\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tmargin: 0 30rpx;\r\n\t\t\tmargin-top: 80rpx;\r\n\t\t\tborder-radius: 16rpx;\r\n\t\t\tpadding: 30rpx;\r\n\t\t\t.section-title{\r\n\t\t\t\tmargin-bottom: 30rpx;\r\n\t\t\t\t.title-text{\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tcolor: #000;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.service-list{\r\n\t\t\t\t.service-item{\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tpadding: 20rpx 0;\r\n\t\t\t\t\tborder-bottom: 1px solid #f0f0f0;\r\n\t\t\t\t\t.service-icon{\r\n\t\t\t\t\t\twidth: 80rpx;\r\n\t\t\t\t\t\theight: 80rpx;\r\n\t\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.service-info{\r\n\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\t.service-name{\r\n\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t.service-price{\r\n\t\t\t\t\t\t\t.price-symbol{\r\n\t\t\t\t\t\t\t\tcolor: #ffce2c;\r\n\t\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t.price-value{\r\n\t\t\t\t\t\t\t\tcolor: #ffce2c;\r\n\t\t\t\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\t\t\tmargin: 0 4rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t.price-unit{\r\n\t\t\t\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t.info-section{\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tmargin: 0 30rpx;\r\n\t\t\tmargin-top: 20rpx;\r\n\t\t\tborder-radius: 16rpx;\r\n\t\t\tpadding: 30rpx;\r\n\t\t\t.section-title{\r\n\t\t\t\tmargin-bottom: 30rpx;\r\n\t\t\t\t.title-text{\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tcolor: #000;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.info-list{\r\n\t\t\t\t.info-item{\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tpadding: 20rpx 0;\r\n\t\t\t\t\tborder-bottom: 1px solid #f0f0f0;\r\n\t\t\t\t\t.info-label{\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\t\tmargin-left: 16rpx;\r\n\t\t\t\t\t\tmargin-right: 8rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.info-value{\r\n\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.bottom-bar{\r\n\t\t\tposition: fixed;\r\n\t\t\tbottom: 0;\r\n\t\t\tleft:0;\r\n\t\t\tright: 0;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tborder-top: 1px solid #f0f0f0;\r\n\t\t\tpadding: 20rpx 30rpx;\r\n\t\t\t.primary-actions{\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'D:/project/hakistar/hakistar/packageB/merchant-detail/merchant-detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["onLoad","uni","ref","get"],"mappings":";;;;;;;;;;;;;;;;;;;AAyGCA,kBAAA,OAAO,CAAC,YAAU;AACbC,0BAAA,MAAM,OAAM,uDAAsD,OAAM,KAAK,MAAM,QAAQ,IAAI,CAAC;AACpG,oBAAc,QAAM,KAAK,MAAM,QAAQ,IAAI;AAChC;IAAA,CACX;AACK,UAAA,gBAAcC,kBAAkB,CAAA,CAAkB;AAElD,UAAA,cAAYA,kBAAmB,CAAA,CAAE;AACvC,UAAM,aAAW,YAAS;AACnB,YAAA,OAAS,MAAMC,iBAAI,IAAA,iBAAgB,EAAC,aAAY,cAAc,MAAM,YAAA,CAAY;AACtF,kBAAY,QAAM;AAAA,IAAA;AAEnB,UAAM,OAAK,MAAI;AACdF,oBAAAA,MAAI,cAAc;AAAA,QACjB,aAAY,cAAc,MAAM;AAAA,MAAA,CAChC;AAAA,IAAA;AAEF,UAAM,eAAa,MAAI;AACtBA,oBAAAA,MAAI,aAAa;AAAA,QAChB,UAAS;AAAA;AAAA,QACT,WAAU;AAAA;AAAA,QACV,MAAK,cAAc,MAAM;AAAA,QACzB,SAAQ,cAAc,MAAM;AAAA,QAC5B,QAAQ,KAAK;AACZA,wBAAA,MAAI,MAAM,OAAM,uDAAsD,UAAS,GAAG;AAAA,QACnF;AAAA,QACA,KAAK,KAAK;AACTA,wBAAA,MAAI,MAAM,OAAM,uDAAsD,UAAS,GAAG;AAAA,QACnF;AAAA,MAAA,CACA;AAAA,IAAA;AAGI,UAAA,UAAQ,CAAC,SAAmB;AACjC,UAAI,SAAO,CAAC;AAAA,QACX,OAAM;AAAA,QACN,UAAS;AAAA,QACT,MAAK,KAAK;AAAA,QACV,OAAM,KAAK;AAAA,QACX,YAAW,KAAK;AAAA,QAChB,MAAK;AAAA,MAAA,CACL;AACDA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAI,kCAAgC,KAAK,UAAU,MAAM;AAAA,MAAA,CACzD;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnJH,GAAG,WAAW,eAAe;"}